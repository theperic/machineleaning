---
title: "Machine Learning Assignment 1"
author: "Eric Larsen"
date: "Friday, January 23, 2015"
output: html_document
---

After loading the data I removed all columns contianing null values.  This left 93 columns in my data set, with column 93 being the classe variable to be predicted.  After preliminary data analysis I excluded the x variable as it is an index, and the data was ordered by the class, thus this variable provides a correlation we cannot expect in future data sets.

```{r, cache=TRUE}
    library(ggplot2)
    library(rattle)
    library(caret)
    

    train_data<-read.csv("pml-training.csv")
##    test_data<-read.csv("machine learning/MachLearnAssignment/pml-testing.csv")
    ## drop columns with NAs
    dim(train_data)
    train_data<-train_data[ , ! apply( train_data , 2 , function(x) any(is.na(x)) ) ]
    
    dim(train_data)
    ## Remove the X column as this is an idex that happens to be highly correlated to the outcomes due to sorting.
    train_data<-train_data[ ,-1 ]
    dim(train_data)
    

    
```

I allocated 75% of the data to my training set and reserved 25% for cross validation.

```{r, cache=TRUE}
## Create training set split
    inTrain<-createDataPartition(y=train_data$classe, p=.75, list=FALSE)
    training<-train_data[inTrain,]
    testing<-train_data[-inTrain,]


```

After testing linear and rPart models I selected the Random Forest model for my analysis.

```{r, cache=TRUE}
    forest<-train(classe ~., data=testing, method="rf", ntree=10,prox=TRUE)
    forest2<-train(classe ~., data=training, method="rf", ntree=200,prox=TRUE)

```

```{r}
    
```





#Expected Error rate

Based on the cross validation of running the prediction against the partitioned section of the training data file, I expect the error rate in the test data to be approximately:


```{r}
pred<-predict(forest,training)
    training$predRight<-pred==training$classe
    table(pred,training$classe)
```
